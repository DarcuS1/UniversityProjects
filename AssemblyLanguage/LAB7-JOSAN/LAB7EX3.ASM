DATA SEGMENT PARA PUBLIC 'DATA'
NUMBERS DB 1,2,3
LEN DB $-NUMBERS
MESSAGE DB "The average is:"
LENM DW $-MESSAGE

REZ DW 0
DATA ENDS

CODE SEGMENT PARA PUBLIC 'CODE'

START PROC FAR

ASSUME CS:CODE, DS:DATA
PUSH DS ;prepare to return to DOS
XOR AX,AX
PUSH AX
MOV AX,DATA; initialise DS
MOV DS, AX

XOR AX, AX
XOR CX, CX
MOV CL, LEN
XOR SI, SI

L: 
ADD AL, NUMBERS[SI]
INC SI
LOOP L

DIV LEN
MOV REZ,AX

MOV SI, LENM
MOV MESSAGE[SI], AH
ADD MESSAGE[SI], '0'
MOV MESSAGE[SI+1], AL
ADD MESSAGE[SI+1], '0'
MOV MESSAGE[SI+2], '$'

LEA DX, MESSAGE
MOV AH, 09H
INT 21H




;MOV AH,40H
;MOV DX,OFFSET REZ
;MOV BX ,1
;MOV CX ,3
;INT 21H

 
RET
START ENDP

CODE ENDS

END START
